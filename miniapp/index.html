<!doctype html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Nutrios Mini App</title>
    <link rel="stylesheet" href="./styles.css" />
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  </head>
  <body>
    <header>
      <div class="brand">ü•ó Nutrios</div>
      <div class="sub">–ï–∂–µ–¥–Ω–µ–≤–Ω–∞—è –∏ –Ω–µ–¥–µ–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</div>
    </header>

    <main>
      <section class="card">
        <div class="section-title">–¶–µ–ª–∏ (–ø–ª–∞–Ω)</div>
        <div id="targets" class="grid kpis"></div>
        <button id="editTargets" class="btn">–ò–∑–º–µ–Ω–∏—Ç—å —Ü–µ–ª–∏</button>
      </section>

      <section class="card">
        <div class="section-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞ —Å–µ–≥–æ–¥–Ω—è</div>
        <div id="progressDaily" class="grid kpis"></div>
        <canvas id="chartDaily" height="140"></canvas>
      </section>

      <section class="card">
        <div class="section-title">–ü—Ä–æ–≥—Ä–µ—Å—Å –∑–∞ –Ω–µ–¥–µ–ª—é</div>
        <div id="progressWeekly" class="grid kpis"></div>
        <canvas id="chartWeekly" height="160"></canvas>
      </section>

      <section class="card">
        <div class="section-title">–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ—Ç–º–µ—Ç–∫–∏</div>
        <div id="dailyMetricsStatus" class="metrics-status muted">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –∑–∞ —Å–µ–≥–æ–¥–Ω—è</div>
        <div class="actions-grid">
          <button id="markWater" class="btn btn-secondary">üíß –í–æ–¥–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞</button>
          <form id="stepsForm" class="inline-form">
            <input type="number" id="stepsInput" min="0" placeholder="–®–∞–≥–∏" />
            <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å —à–∞–≥–∏</button>
          </form>
          <button id="markDinner" class="btn btn-secondary">üçΩÔ∏è –£–∂–∏–Ω –æ—Ç–º–µ—á–µ–Ω</button>
          <button id="markNewRecipe" class="btn btn-secondary">üÜï –ù–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç</button>
        </div>
      </section>

      <section class="card">
        <div class="section-title">–ß–µ–ª–ª–µ–Ω–¥–∂–∏ –∏ —Å–æ–±—ã—Ç–∏—è</div>
        <div class="actions-vertical">
          <button id="btnChallenge" class="btn btn-secondary">üèÅ –ß–µ–ª–ª–µ–Ω–¥–∂ –≤—ã–ø–æ–ª–Ω–µ–Ω</button>
          <button id="btnShareProgress" class="btn btn-secondary">üì£ –ü–æ–¥–µ–ª–∏—Ç—å—Å—è –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º</button>
          <button id="btnStreakResumed" class="btn btn-secondary">üî• –°–µ—Ä–∏—è –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∞</button>
        </div>
        <div id="eventsList" class="events-list muted"></div>
      </section>

      <section class="card">
        <div class="section-title">–û–ø—Ä–æ—Å–Ω–∏–∫ (—Ü–µ–ª–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ)</div>
        <form id="quiz" class="form-grid">
          <label>–í–æ–∑—Ä–∞—Å—Ç<input type="number" name="age" min="10" max="100" /></label>
          <label>–ü–æ–ª<select name="sex"><option value="m">–ú—É–∂</option><option value="f">–ñ–µ–Ω</option></select></label>
          <label>–†–æ—Å—Ç, —Å–º<input type="number" name="height_cm" min="100" max="230" /></label>
          <label>–í–µ—Å, –∫–≥<input type="number" name="weight_kg" min="30" max="250" step="0.1" /></label>
          <label>–ê–∫—Ç–∏–≤–Ω–æ—Å—Ç—å<select name="activity"><option value="low">–ù–∏–∑–∫–∞—è</option><option value="medium" selected>–°—Ä–µ–¥–Ω—è—è</option><option value="high">–í—ã—Å–æ–∫–∞—è</option></select></label>
          <label>–¶–µ–ª—å<select name="goal"><option value="lose">–ü–æ—Ö—É–¥–µ–Ω–∏–µ</option><option value="maintain" selected>–ü–æ–¥–¥–µ—Ä–∂–∞–Ω–∏–µ</option><option value="gain">–ù–∞–±–æ—Ä</option></select></label>
          <button class="btn" type="submit">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å –ø–ª–∞–Ω</button>
        </form>
      </section>

      <section class="card">
        <div class="section-title">–°–µ—Ä–∏—è —Å–æ–±–ª—é–¥–µ–Ω–∏—è (streak)</div>
        <div id="streak" class="streak"></div>
      </section>
    </main>

    <footer>
      <button id="refresh" class="btn">–û–±–Ω–æ–≤–∏—Ç—å</button>
    </footer>

    <script src="./app.js?v=20250916-2"></script>
  </body>
  </html>
